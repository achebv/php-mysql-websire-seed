<?php
	$hasList = (count(array_keys($this->allList)) > 0);
	$hasCurrentList = isset($this->currentList) && isset($this->currentList['key']);
?>
<div class="leftNav">
	<?php
	if($hasList){
		echo '<ul class="menu">';
		foreach($this->allList as $key=>$existingLists){
	?>
			<li><a href="<?php echo $this->openPage('Super', 0, true) . 'listMgmt/' . $key;?>/"><span><?php echo $existingLists['name'];?></span></a></li>
	<?php
		}
		echo '</ul>';
	}
?>

</div>

<div class="l">
<?php
	if(!$hasCurrentList){ ?>
		<h1>Administrare liste aplicatie</h1><hr /><br />
		<p>Click pe o lista din stanga</p>
<?php } else {
			$hasGroup = (isset($this->currentList["group"]) && strlen($this->currentList["group"]) > 0);
		?>

	<h1>
		Administrare: <?php echo $this->currentList['name']; ?> </h1>
		<a href="javascript:ListMgmt.editEntity(0, '<?php echo $this->currentList["key"];?>');">Adauga</a>
	<hr />

	<div class="GridPanel">
		<br/>
		<div class="widget-content module">
			<div class="l">
				Afiseaza
				<select id="ItemsPerPage" name="ItemsPerPage">
					<option value="5" >5</option>
					<option value="10">10</option>
					<option value="25">25</option>
					<option value="50">50</option>
					<option value="100">100</option>
				</select> pe pagina
			</div>
			<div class="r">
				<div class="control-group">
					<div class="controls ">
						<input type="text" name="Name" id="Name" placeholder="Cauta in lista..." />
						<?php
							if($hasGroup){
								$group = $this->allList[$this->currentList['group']]['key'];;
						?>
								<select id="group_<?php echo $group; ?>" name="group_<?php echo $group; ?>">
									<option>Selectati <?php echo $group; ?></option>
								</select>
						<?php
							}
						?>
						<input type="button" id="FilterItems" value="Cauta" onclick="ListMgmt.filter();"/>
					</div>
				</div>
			</div>
			<div class="clr"></div>

			<br />

			<table class="display data-table">
				<thead>
					<tr>
						<th class="sorting_asc" rowspan="1" colspan="1" style="width: 115px;">Denumire</th>
				<?php if($hasGroup){ ?>
						<th rowspan="1" colspan="1" style="width: 148px;" class="center">Grup</th>
					<?php } ?>
						<th rowspan="1" colspan="1" style="width: 148px;" class="center">Actiuni</th>
					</tr>
				</thead>
				<tfoot>
					<tr>
						<th>Denumire</th>
				<?php if($hasGroup){ ?>
						<th>Grup</th>
					<?php } ?>
						<th>Actiuni</th>
				</tr>
				</tfoot>
				<tbody id="gridCt" ><!-- autogenerated --></tbody>
			</table>
			<div class="dataTables_info">
				Afisare de la <span id="startItems">11</span> la <span id="endItems"></span> din <span id="totalItems"></span> inregistrari
			</div>
			<div class="dataTables_paginate paging_two_button">
				<a onclick="ListMgmt.prevPage();" class="paginate_enabled_previous" title="Pagina Anterioara"></a>
				<a onclick="ListMgmt.nextPage();" class="paginate_enabled_next" title="Pagina urmatoare"></a>
			</div></div>
		<br /><br />
		<hr />
		<br />
		<div class="clr"></div>
	</div>
<?php } ?>
</div>